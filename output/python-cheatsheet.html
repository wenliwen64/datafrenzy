<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Liwen Wen" />
        <meta name="copyright" content="Liwen Wen" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", misc, " />

<meta property="og:title" content="Python Cheatsheet "/>
<meta property="og:url" content="http://localhost:18000/python-cheatsheet.html" />
<meta property="og:description" content="This cheatsheet is mainly based on the book Writing Idiomatic Python. by Jeff Knupp. Control Structure¶ if x &lt;= y &lt;= z: is legal and efficient; is_generic_name = name in (&#39;Tom&#39;, &#39;Dick&#39;, &#39;Harry&#39;) is equivalent to: if name == &#39;Tom&#39; or name == &#39;Dick&#39; or name == &#39;Harry&#39;: is_generic_name = True if my_list: instead of if my_list …" />
<meta property="og:site_name" content="DataFrenzy" />
<meta property="og:article:author" content="Liwen Wen" />
<meta property="og:article:published_time" content="2015-12-01T23:34:00-08:00" />
<meta name="twitter:title" content="Python Cheatsheet ">
<meta name="twitter:description" content="This cheatsheet is mainly based on the book Writing Idiomatic Python. by Jeff Knupp. Control Structure¶ if x &lt;= y &lt;= z: is legal and efficient; is_generic_name = name in (&#39;Tom&#39;, &#39;Dick&#39;, &#39;Harry&#39;) is equivalent to: if name == &#39;Tom&#39; or name == &#39;Dick&#39; or name == &#39;Harry&#39;: is_generic_name = True if my_list: instead of if my_list …">

        <title>Python Cheatsheet  · DataFrenzy
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://localhost:18000/"><span class=site-name>DataFrenzy</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://localhost:18000">Home</a></li>
                            <li ><a href="http://localhost:18000/pages/about.html">About</a></li>
                            <li ><a href="http://localhost:18000/pages/bookshelf.html">Books Collection</a></li>
                            <li ><a href="http://localhost:18000/pages/task-magnagement.html">Task Management</a></li>
                            <li ><a href="http://localhost:18000/pages/mis.html">Miscellaneous</a></li>
                            <li ><a href="http://localhost:18000/pages/research.html">Research</a></li>
                            <li ><a href="http://localhost:18000/categories.html">Categories</a></li>
                            <li ><a href="http://localhost:18000/tags.html">Tags</a></li>
                            <li ><a href="http://localhost:18000/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://localhost:18000/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://localhost:18000/python-cheatsheet.html"> Python Cheatsheet  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#control-structure">Control Structure</a></li>
<li><a href="#dealing-with-data">Dealing with data</a></li>
<li><a href="#organize-your-code">Organize Your Code</a></li>
<li><a href="#structure-of-your-code">Structure of your code</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
            
<p>This cheatsheet is mainly based on the book Writing Idiomatic Python. by Jeff Knupp.</p>
<h3 id="control-structure">Control Structure<a class="headerlink" href="#control-structure" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><code>if x &lt;= y &lt;= z:</code> is legal and efficient;</p>
</li>
<li>
<p><code>is_generic_name = name in ('Tom', 'Dick', 'Harry')</code> is equivalent to: </p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">'Tom'</span> <span class="ow">or</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">'Dick'</span> <span class="ow">or</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">'Harry'</span><span class="p">:</span>
    <span class="n">is_generic_name</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</li>
<li>
<p><code>if my_list:</code> instead of <code>if my_list == []:</code></p>
</li>
<li>
<p><code>if position is not None:</code></p>
</li>
<li>
<p><code>value = 1 if foo else 0</code> just like <code>x? True:False</code> in C++ </p>
</li>
<li>
<p>for loop(???format function):</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">my_contaniter</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">'{} {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">element</span><span class="p">))</span>
</pre></div>
</li>
<li>
<p>Mutable objects: list, dict, set and most class instances</p>
</li>
<li>
<p>Immutable objects: string, int, tuple</p>
</li>
<li>
<p>Dont use mutable object as the default value for a function argument.<code>def f(a, L=None)</code> instead of <code>def L(a, L=[])</code> </p>
</li>
<li>
<p>Return expression instead of values to be concise.<code>return a == b == c</code> </p>
</li>
<li>
<p><code>if not 'happy' in cur_dict:</code> is equivalent to happy is not in the current dictionary.  </p>
</li>
<li>
<p>Why use <code>if __name__ == '__main__':</code></p>
</li>
</ul>
<h3 id="dealing-with-data">Dealing with data<a class="headerlink" href="#dealing-with-data" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>No reason to use temporary variable to swap varibles' values: <code>(b, a) = (a, b)</code></p>
</li>
<li>
<p>Chain string functions: <code>formatted_book_info = book_info.strip().upper().replace(":", "by")</code></p>
</li>
<li>
<p>Use <code>''.join(result_list)</code></p>
</li>
<li>
<p>Use <code>ord</code> function to convert char to ASCII or vice versa.</p>
</li>
<li>
<p>How to format strings in python:</p>
<ul>
<li>use <code>+</code> operator to concatenate strings and variables.</li>
<li>'old-style' string</li>
<li><code>''.join(string_list)</code> </li>
</ul>
</li>
<li>
<p>The best way to do is to use <code>output = 'Name: {user.name}, Age: {user.age}, Sex: {user.sex}'.format(user=user)</code>. This <a href="https://docs.python.org/2/library/string.html#formatspec">link</a> is very helpful.</p>
</li>
<li>
<p><code>some_list = [element + 5 for element in some_other_list if is_prime(element)]</code></p>
</li>
<li>
<p>Prefer list comprehensions to the built-in <code>map()</code> and <code>filter()</code> functions</p>
</li>
<li>
<p>Use <code>sum()</code> function which is built-in</p>
</li>
<li>
<p>Use <code>all(list)</code> or <code>any(list)</code> to check if all of the elements or any one element is equal to <code>True</code></p>
</li>
<li>
<p>Use a dict as a substitue for a <code>switch</code>...case statement. return long expression is preferred.  </p>
</li>
<li>
<p><code>log_severity = configuration.get('severity', 'Info')</code></p>
</li>
<li>
<p><code>user_email = {user.name: user.email for user in users_list if user.email}</code> </p>
</li>
<li>Set operations <code>A|B, A&amp;B, A-B, A^B</code> </li>
<li>
<p><code>return(set(get_list_of_most_active_users()) &amp; set(get_list_of_most_popular_users()))</code></p>
</li>
<li>
<p><code>users_first_names = {user.first_name for user in users}</code></p>
</li>
<li>
<p>How to define a variable arguments function: </p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="o">...</span><span class="p">:</span>      <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
  <span class="o">...</span><span class="p">:</span>          <span class="k">print</span> <span class="n">a</span><span class="p">;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
   <span class="o">...</span><span class="p">:</span>      
<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">bar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">bar</span><span class="p">(</span><span class="n">num1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">num2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">num3</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="mi">1</span>
<span class="mi">2</span>
<span class="mi">3</span>
</pre></div>
</li>
<li>
<p>P48 example very impressive</p>
</li>
<li>
<p><code>(user, name, _, _) = get_user_info(user)</code> is better than <code>(user, name, temp, temp2) = get_user_info(user)</code></p>
</li>
<li>
<p>tuple can be used to accept upacked list. <code>(name, age, sex) = list_from_comma_separated_file</code> </p>
</li>
<li>
<p><code>return (mean, median, variance)</code> to return multiple values from one fucntion. </p>
</li>
<li>
<p>Reread class part. Very helpful but hard at this point of time(https://www.jeffknupp.com/blog/2013/04/07/improve-your-python-yield-and-generators-explained/)</p>
</li>
<li>
<p><code>for uppercase_name in (name.upper() for name in usernames)</code> is better than <code>for uppercase_name in [name.upper() for name in usernames]</code></p>
</li>
</ul>
<h3 id="organize-your-code">Organize Your Code<a class="headerlink" href="#organize-your-code" title="Permanent link">¶</a></h3>
<hr>
<ul>
<li>
<p>Use capital letters when declaring global constant values. </p>
</li>
<li>
<p>Format your code according to PEP8. <code>$sudo easy_install pep8</code> and <code>$pep8 myfirstpythonprogram.py</code>!</p>
</li>
<li>
<p><code>from foo import *</code> &lt;&lt; <code>from foo import (a, b ,c, d)</code> &lt; <code>import foo</code></p>
</li>
<li>
<p>Make use of <code>__init__.py</code> to initialize your package. If you have a package contating large amount of modules but only a few of them are meant to be used by clients, you should use <code>__init__.py</code>: like <code>import gzimo.clinet as Gzimo</code>, so client can write like <code>import Gzimo</code> instead of nested expressions.</p>
</li>
<li>
<p>Use <code>if __name__ == '__main__'</code> to make a script executable.</p>
</li>
<li>
<p>Under <code>if __name__ == '__main__'</code> you should write <code>sys.exit(main())</code></p>
</li>
<li>
<p>Use <code>sys.argv</code> to parse command line parameters</p>
</li>
<li>
<p>Use <code>os.path</code> to deal with directory paths.</p>
</li>
<li>
<p>Use automated test tool like the standard library providing <code>unittest</code> should suffice</p>
</li>
<li>
<p>Use <code>self.assertEqual(a, b)</code> instead of <code>self.assertTrue(a == b)</code></p>
</li>
</ul>
<h3 id="structure-of-your-code">Structure of your code<a class="headerlink" href="#structure-of-your-code" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>What a typical project look like structurally? </p>
<div class="highlight"><pre><span></span><span class="n">README</span>
<span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
<span class="n">Makefile</span>
<span class="n">setup</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">core</span><span class="o">.</span><span class="n">py</span>
<span class="n">src</span><span class="o">/</span><span class="n">helpers</span><span class="o">.</span><span class="n">py</span>
<span class="n">docs</span><span class="o">/</span><span class="n">conf</span><span class="o">.</span><span class="n">py</span>
<span class="n">docs</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">rst</span>
<span class="n">tests</span><span class="o">/</span><span class="n">test_basic</span><span class="o">.</span><span class="n">py</span>
<span class="n">tests</span><span class="o">/</span><span class="n">test_advanced</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</li>
<li>
<p>What is the use of <code>environment.yml</code> ?  <code>conda env create -f environment.yml</code></p>
</li>
<li>
<p>What is the use of <code>Makefile</code>? An example is:</p>
<div class="highlight"><pre><span></span><span class="nf">test</span><span class="o">:</span> 
    test.py <span class="nb">test</span>
<span class="nf">.PHONY</span><span class="o">:</span> <span class="n">test</span>
</pre></div>
</li>
<li>
<p>What is the use of <code>setup.py</code>? </p>
<p><code>python setup.py build &amp;&amp; python setup.py install</code> == <code>make &amp;&amp; make install</code> </p>
</li>
<li>
<p>What is the use of <code>__init__.py</code>? This file will be loaded and executed when any module of this package, some top-level statements will be executed. After this, it will look for the <code>core.py</code> to execute the statements in <code>core.py</code>. But usually it is left empty.</p>
</li>
</ul></hr>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2015-12-01T23:34:00-08:00">Dec 1, 2015</time>
            <h4>Category</h4>
            <a class="category-link" href="http://localhost:18000/categories.html#misc-ref">misc</a>
<h4>Contact</h4>
    <a href="http://www.weibo.com/u/1872791672" title="My weibo Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-weibo sidebar-social-links"></i></a>
    <a href="https://www.facebook.com/liwen.wen.581" title="My facebook Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-facebook sidebar-social-links"></i></a>
    <a href="https://twitter.com/liwenPhys" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="mailto:wenliwen64@gmail.com" title="My email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">DataFrenzy</span> - Collection of study notes on programming, statistics, data science and beyond...</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>