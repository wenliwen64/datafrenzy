<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Liwen Wen" />
        <meta name="copyright" content="Liwen Wen" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", misc, " />

<meta property="og:title" content="Chiral Effects with PID correlations "/>
<meta property="og:url" content="http://localhost:18000/drafts/chiral-effects-with-pid-correlations.html" />
<meta property="og:description" content="Data¶ Experiment Data¶ Period 5: Giant:/media/Disk_Yan/liwen/Run11_200GeV/ &amp;&amp; Giant:/home/lwen/(this location should be changed to old_home after last August we changed the hard drive) &amp;&amp; Giant:/media/Liwen/Run11_200GeV/ Feng Zhao&#39;s files location Embedding Data¶ Raw Data Location(on pdsf farm): /global/projecta/projectdirs/starprod/embedding/AuAu200_production_2011 …" />
<meta property="og:site_name" content="DataFrenzy" />
<meta property="og:article:author" content="Liwen Wen" />
<meta property="og:article:published_time" content="2016-02-03T10:31:00-08:00" />
<meta name="twitter:title" content="Chiral Effects with PID correlations ">
<meta name="twitter:description" content="Data¶ Experiment Data¶ Period 5: Giant:/media/Disk_Yan/liwen/Run11_200GeV/ &amp;&amp; Giant:/home/lwen/(this location should be changed to old_home after last August we changed the hard drive) &amp;&amp; Giant:/media/Liwen/Run11_200GeV/ Feng Zhao&#39;s files location Embedding Data¶ Raw Data Location(on pdsf farm): /global/projecta/projectdirs/starprod/embedding/AuAu200_production_2011 …">

        <title>Chiral Effects with PID correlations  · DataFrenzy
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://localhost:18000/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://localhost:18000/"><span class=site-name>DataFrenzy</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://localhost:18000">Home</a></li>
                            <li ><a href="http://localhost:18000/pages/about.html">About</a></li>
                            <li ><a href="http://localhost:18000/pages/bookshelf.html">Books Collection</a></li>
                            <li ><a href="http://localhost:18000/pages/task-magnagement.html">Task Management</a></li>
                            <li ><a href="http://localhost:18000/pages/mis.html">Miscellaneous</a></li>
                            <li ><a href="http://localhost:18000/pages/research.html">Research</a></li>
                            <li ><a href="http://localhost:18000/categories.html">Categories</a></li>
                            <li ><a href="http://localhost:18000/tags.html">Tags</a></li>
                            <li ><a href="http://localhost:18000/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://localhost:18000/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://localhost:18000/drafts/chiral-effects-with-pid-correlations.html"> Chiral Effects with PID correlations  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#data">Data</a><ul>
<li><a href="#experiment-data">Experiment Data</a></li>
<li><a href="#embedding-data">Embedding Data</a></li>
</ul>
</li>
<li><a href="#analysis-code-for-experiment-data">Analysis code for experiment data</a><ul>
<li><a href="#upstream">Upstream:</a></li>
<li><a href="#downstream">Downstream:</a></li>
</ul>
</li>
<li><a href="#analysis-code-for-embedding-data">Analysis code for embedding data</a><ul>
<li><a href="#upstream_1">Upstream:</a></li>
<li><a href="#midstream">Midstream:</a></li>
<li><a href="#downstream_1">Downstream:</a></li>
</ul>
</li>
<li><a href="#log">Log</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
            
<h1 id="data">Data<a class="headerlink" href="#data" title="Permanent link">¶</a></h1>
<hr>
<h2 id="experiment-data">Experiment Data<a class="headerlink" href="#experiment-data" title="Permanent link">¶</a></h2>
<hr>
<ul>
<li>Period 5: Giant:/media/Disk_Yan/liwen/Run11_200GeV/ &amp;&amp; Giant:/home/lwen/(this location should be changed to old_home after last August we changed the hard drive) &amp;&amp; Giant:/media/Liwen/Run11_200GeV/ </li>
<li><a href="http://localhost:18000/data/feng_files.txt">Feng Zhao's files location</a></li>
</ul>
<h2 id="embedding-data">Embedding Data<a class="headerlink" href="#embedding-data" title="Permanent link">¶</a></h2>
<hr>
<ul>
<li>
<p>Raw Data Location(on pdsf farm): </p>
<p><code>/global/projecta/projectdirs/starprod/embedding/AuAu200_production_2011</code></p>
<p>Note: this is the raw data, the <code>*.geant.root</code> filelist can be found at </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/mid_production</code>. </p>
<p>The python code to generate these lists can be found at </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/macro_lib/makelist_auau200GeV_run11_geant_la_antila.py</code> </p>
</li>
<li>
<p>Picodst Data Location(on pdsf farm): </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/data/*full.picodst.root</code></p>
<p>Note: I <code>hadd</code> all of the files inside the </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/mid_production/output_fp(output_exp)</code></p>
</li>
</ul>
<h1 id="analysis-code-for-experiment-data">Analysis code for experiment data<a class="headerlink" href="#analysis-code-for-experiment-data" title="Permanent link">¶</a></h1>
<hr>
<h2 id="upstream">Upstream:<a class="headerlink" href="#upstream" title="Permanent link">¶</a></h2>
<hr>
<ul>
<li>
<p>Location: rcf:/star/u/lwen1990/gpfs/v2_Lambda_200GeV/batchjobs/generate_Period1.sh</p>
</li>
<li>
<p>Note: Every time you update your source code or change your location, you have to update the version number in <code>Scheduler_new.xml</code> to make it work as expected. To compile it, just use <code>starver SL11d</code> and <code>cons CPP_EXTRAFLAG=-fpermissive</code>.</p>
</li>
</ul>
<h2 id="downstream">Downstream:<a class="headerlink" href="#downstream" title="Permanent link">¶</a></h2>
<hr>
<ul>
<li>
<p>Location: </p>
<p>Feng's code:</p>
<p><code>giant:/home/lwen/Analysis/CVE_project/Period5_Feng/HBT_NotExcluded/Lambda/</code>; </p>
<p>my code: </p>
<p><code>giant:/home/lwen/Analysis/chiral_code/StProtonLaGammaMaker</code>(for <span class="math">\(\Lambda-p(\bar{p})\)</span>) and </p>
<p><code>giant:/home/lwen/Analysis/LambdaBar/StProtonLaGammaMaker</code>(for <span class="math">\(\bar{\Lambda}-p(\bar{p})\)</span>).</p>
</li>
<li>
<p>How to run it: </p>
<p><code>$root -l runner.C</code>, but you have to change the event number you want to process inside <code>runner.C</code>(0 means process all of the events);</p>
</li>
<li>
<p>Notes: </p>
<ul>
<li>
<p><code>eff_test.C</code> is used to test the <code>StEffMaker</code> and its subclasses.</p>
</li>
<li>
<p>If you want to decrease file loading time you can comment out part of the <code>***-&gt;Add()</code> in <code>StCorrelationMaker.cpp</code>;</p>
</li>
<li>
<p><code>constants.h</code> is used to store the cuts for <span class="math">\(\Lambda\)</span> and protons and other values like correction orders;</p>
</li>
<li>
<p><code>runner_test.C</code> is obsolete runner for test use only. </p>
</li>
<li>
<p>If the <code>StTpcTofEffMaker</code> or <code>StErfEffMaker</code> are not initialized, they will output 1.0 for each efficiency request.</p>
</li>
<li>
<p>For QA purpose you can use code on local machine(MacBook Pro) <code>/Users/lwen/Documents/chiral_code/local_test/qa_plots.C</code> to check the v2 of protons and <span class="math">\(\Lambda\)</span>s or you can add anything you want to check to this code. </p>
</li>
</ul>
</li>
</ul>
<h1 id="analysis-code-for-embedding-data">Analysis code for embedding data<a class="headerlink" href="#analysis-code-for-embedding-data" title="Permanent link">¶</a></h1>
<hr>
<h2 id="upstream_1">Upstream:<a class="headerlink" href="#upstream_1" title="Permanent link">¶</a></h2>
<hr>
<ul>
<li>
<p>Location: <code>lwen1990@pdsf:/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/mid_production/StRoot</code>, the passcode can be found in Chrome(NIM) browser;</p>
</li>
<li>
<p>How to run it: <code>starver SL11d</code>; <code>cons EXTRA_CPPFLAGS=-fpermissive</code>; <code>qsub_script_la.sh</code>; you have to change some parameters in the <code>qsub_script_la.sh</code>;</p>
</li>
<li>
<p>Output: <code>lwen1990@pdsf:/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/output*</code>, you can compress all of the files into one file and <del>download to local machine for further analysis</del>;</p>
</li>
</ul>
<h2 id="midstream">Midstream:<a class="headerlink" href="#midstream" title="Permanent link">¶</a></h2>
<hr>
<p>You can only analyze data midstream on pdsf or rcf because of the software environment(<code>StPhysicsHelix.h</code>, <code>StThreeVector.h</code>...)</p>
<ul>
<li>
<p>Location(on pdsf): </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/macro_lib/run_la(antila)_eff_analyzer.C</code> </p>
</li>
<li>
<p>How to run it: <code>root -l run_la_eff_analyzer.C</code></p>
</li>
<li>
<p>Output: </p>
<p><code>/global/homes/l/lwen1990/pwg/embedding/Lambda_2016Summer/data/(anti)la_flat(exp).eff.histo.root</code> </p>
</li>
</ul>
<h2 id="downstream_1">Downstream:<a class="headerlink" href="#downstream_1" title="Permanent link">¶</a></h2>
<hr>
<p>Do it locally, because you need to plot a lot of QA plots and internet slows this process. Download the <code>*eff.histo.root</code> to local machine </p>
<p><code>/Users/lwen/Documents/CVE_Project/eff_analysis/auau200GeV_run11_Lambda</code></p>
<ul>
<li>
<p>Code: <code>fiteff_la(antila).C</code>; <code>run_fiteff.C</code> under the above directory;</p>
</li>
<li>
<p>How to run it: <code>root -l run_fiteff.C</code> and it will generate all of the plots and the data file you need to upload to giant to integrate into Gamma analysis.</p>
</li>
<li>
<p>Output: <code>../figures/</code> has some plots to check the fitting and <code>../data/auau200GeV_run11_la(antila)_eff_comb.fit.dat</code>. These output files(<code>*comb*</code>) should be fed into <code>StErfEffMaker</code> to compute the efficiency in gamma computation.</p>
</li>
<li>
<p>Notes for proton efficiency:</p>
<ul>
<li>
<p>I obtained the tracking efficiency for protons(anti-protons) from Gang;  </p>
</li>
<li>
<p>I analyzed the TOF Matching efficiency for proton(anti-protons) on giant: </p>
<p><code>/home/lwen/Analysis/auau200GeV_run11_proton_eff</code> by running <code>run_calEffProton.C</code>;</p>
</li>
<li>
<p>I re-organized the data and fit it with a <code>pol0</code> function in </p>
<p><code>/Users/lwen/Documents/CVE_Project/eff_analysis/auau200GeV_run11_Proton/protonEff</code>;</p>
</li>
<li>
<p>Upload the generated <code>dat</code> file to <code>giant</code> for real data analysis.</p>
</li>
</ul>
</li>
</ul>
<hr>
<h1 id="log">Log<a class="headerlink" href="#log" title="Permanent link">¶</a></h1>
<hr>
<ul>
<li>
<p>2016-02-03: <span class="math">\(Lambda\)</span>-p correlation</p>
</li>
<li>
<p>2016-02-04: We need to add new bad run for <span class="math">\(Lambda\)</span>-p correlation</p>
</li>
<li>
<p>2016-02-08: Begin running code to generate data for Period 1 on rcf(day132-140, 126-128 undone yet).</p>
</li>
<li>
<p>2016-04-08: Check the generated data's leaf <code>mNoTracks</code> whether or not corresponds to primary tracks / PtV0s.</p>
</li>
<li>
<p>2016-05-20: Nasim's publication on Lambda and proton's <a href="https://drupal.star.bnl.gov/STAR/publications/centrality-and-transverse-momentum-dependence-elliptic-flow-multi-strange-hadrons-and-p">v2</a>.</p>
</li>
<li>
<p>2016-05-24: Embedding data of <span class="math">\(\Lambda\)</span> and <span class="math">\(\bar{\Lambda}\)</span> on pdsf: </p>
<p><code>/global/projecta/projectdirs/starprod/embedding/AuAu200_production_2011</code></p>
</li>
<li>
<p>2016-05-24: Read through <code>StMcEvent</code> and <code>StAssociationMaker</code> documents, figured out roughly how embedding works: basically, it looks through the <code>TrackNodes</code> which exists inside <code>StEvent</code>, since we don't have <code>StMuDstMaker</code> in chain, so we cannot access the container of all global or primary tracks, then store those having MC parterners(not necessarily only one) in the vectors, and then looking for if there is real MC event(<span class="math">\(\Lambda\)</span>), if so, reconstruct them by applying topology cuts and compare to see if those cuts killed them or not; for MC events, you have to store all of the mc events in your tree. </p>
</li>
<li>
<p>2016-05-25: Rapidity cut for data and monte carlo?(we applied 1.0 eta cut for v0s)</p>
</li>
<li>
<p>2016-05-25: <code>20143801</code> is the tag of embedding request created by Feng Zhao in August 2014(there are a few Lambda requests for run11 auau200GeV data existing on pdsf). All info. about this request can be found <a href="https://drupal.star.bnl.gov/STAR/starsimrequests/2014/sep/19/embedding-requests-k0s-antilambda-run11-auau-200gev">here</a></p>
</li>
<li>
<p>2016-05-28: Why we cut proton on 2GeV/c for upper limit? For the tpc tracking precision or Jets influence. Why we cut the lower</p>
</li>
<li>
<p>2016-06-02: The issue remaining in protons efficiency study is Centrality 7 has an suspicious <code>enhancement</code> in low pt range for TOF matching efficiency. Also I just roughly fit it with small fraction of data. </p>
</li>
<li>
<p>2016-06-02: 200GeV: Period1(12123~ - 12138~), Period5(12154~ - 12165~), Period6(12165~ - 12171~); 39GeV: 11098-11112</p>
</li>
</ul>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script></hr></hr></hr></hr></hr></hr></hr></hr></hr></hr></hr></hr>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2016-02-03T10:31:00-08:00">Feb 3, 2016</time>
            <h4>Category</h4>
            <a class="category-link" href="http://localhost:18000/categories.html#misc-ref">misc</a>
<h4>Contact</h4>
    <a href="http://www.weibo.com/u/1872791672" title="My weibo Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-weibo sidebar-social-links"></i></a>
    <a href="https://www.facebook.com/liwen.wen.581" title="My facebook Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-facebook sidebar-social-links"></i></a>
    <a href="https://twitter.com/liwenPhys" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="mailto:wenliwen64@gmail.com" title="My email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">DataFrenzy</span> - Collection of study notes on programming, statistics, data science and beyond...</li>
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>